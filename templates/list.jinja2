{% extends "base.jinja2" %}
{% block header %}
<header>
{% endblock %}
    <!-- {% block userControls %}
    <a href="{{ request.route_url('create') }}" class="create-edit" >Add new entry</a>
    {% endblock %} -->

{% block controls %}
    {% if not request.authenticated_userid %}
        <a href="{{ request.route_url('login') }}" id="login">Log in</a>
    {% else %}
        <a href="{{ request.route_url('create') }}" class="create-edit" id="add-new">Add new entry</a>
        <a href="{{ request.route_url('logout') }}" class="create-edit">Log out</a>
    {% endif %}  
{% endblock %}
    
{% block body %}
    <section id="entries">
        {% for entry in entries %}
        <article class="post-listing" id="entry={{entry.id}}">
            <p>{{ entry.created.strftime('%b. %d, %Y') }}</p>
            <h2>{{ entry.title }}</h2>
            <a href="{{ request.route_url('entry', id=entry.id) }}">Read</a>
        </article>
        {% else %}
        <div class="entry">
            <p><em>No entries here so far</em></p>
        </div>
        {% endfor %}
{% endblock %}